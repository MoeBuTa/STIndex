<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STIndex RAG Dataset Guide - Spatial-Temporal Reasoning</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 50px;
        }
        
        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #667eea;
        }
        
        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        .dataset-card {
            background: #f8f9fa;
            border-left: 5px solid #667eea;
            padding: 25px;
            margin-bottom: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .dataset-card h4 {
            color: #667eea;
            font-size: 1.3em;
            margin-bottom: 15px;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 12px;
            background: #667eea;
            color: white;
            border-radius: 20px;
            font-size: 0.85em;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .badge.temporal { background: #28a745; }
        .badge.spatial { background: #fd7e14; }
        .badge.multihop { background: #dc3545; }
        .badge.recommended { background: #ffc107; color: #333; }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        
        .stat-box .number {
            font-size: 1.8em;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-box .label {
            color: #6c757d;
            font-size: 0.9em;
            margin-top: 5px;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .code-block .comment {
            color: #6272a4;
        }
        
        .code-block .key {
            color: #50fa7b;
        }
        
        .code-block .string {
            color: #f1fa8c;
        }
        
        .code-block .number {
            color: #bd93f9;
        }
        
        .workflow {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 25px 0;
        }
        
        .workflow-step {
            display: flex;
            align-items: flex-start;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .step-content h5 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .comparison-table thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .comparison-table th,
        .comparison-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e9ecef;
        }
        
        .comparison-table tbody tr:hover {
            background: #f8f9fa;
        }
        
        .highlight-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .highlight-box strong {
            color: #856404;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-top: 10px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .link-button {
            display: inline-block;
            padding: 10px 20px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin-top: 10px;
            transition: background 0.3s;
        }
        
        .link-button:hover {
            background: #764ba2;
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            header h1 {
                font-size: 1.8em;
            }
            
            .stats {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ STIndex RAG Dataset Guide</h1>
            <p>Spatial-Temporal Reasoning for Retrieval-Augmented Generation</p>
        </header>
        
        <div class="content">
            <!-- Executive Summary -->
            <div class="section">
                <h2>üìã Executive Summary</h2>
                <p>This guide provides comprehensive recommendations for implementing full-pipeline RAG systems with STIndex, focusing on spatio-temporal reasoning datasets. Based on your requirements for corpus database retrieval-based RAG QA, we've identified optimal datasets and implementation strategies.</p>
                
                <div class="highlight-box">
                    <strong>Key Challenge:</strong> You need datasets with manageable corpus sizes (not 6M+ Wikipedia articles) that still contain rich spatio-temporal information for multi-hop reasoning.<br><br>
                    <strong>Perfect Solution:</strong> FinQA (2.8K docs) for rapid prototyping with dense temporal data, or ChronoQA (300K docs)/HotpotQA Union Method (250K docs) for full-scale testing.
                </div>
            </div>

            <!-- Quick Decision Matrix -->
            <div class="section">
                <h2>üéØ Quick Decision Matrix</h2>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Dataset</th>
                            <th>Corpus Size</th>
                            <th>Best For</th>
                            <th>Complexity</th>
                            <th>Recommendation</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>ChronoQA</strong></td>
                            <td>~300K news articles</td>
                            <td>Temporal reasoning, News domain</td>
                            <td>Medium</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                        </tr>
                        <tr>
                            <td><strong>HotpotQA (Union Method)</strong></td>
                            <td>~250K docs</td>
                            <td>Multi-hop, General knowledge</td>
                            <td>High</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                        </tr>
                        <tr>
                            <td><strong>MuSiQue (Union Method)</strong></td>
                            <td>~200K docs</td>
                            <td>Complex multi-hop</td>
                            <td>Very High</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                        </tr>
                        <tr>
                            <td><strong>TimeQA</strong></td>
                            <td>Wikipedia subset</td>
                            <td>Temporal understanding</td>
                            <td>Medium</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                        </tr>
                        <tr>
                            <td><strong>FinQA</strong></td>
                            <td>~2.8K reports</td>
                            <td>Financial temporal reasoning</td>
                            <td>Medium-High</td>
                            <td>‚≠ê‚≠ê‚≠ê‚≠ê</td>
                        </tr>
                        <tr>
                            <td><strong>SpaRTQA</strong></td>
                            <td>~24K stories</td>
                            <td>Spatial reasoning</td>
                            <td>Low</td>
                            <td>‚≠ê‚≠ê‚≠ê</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- Top Recommendations -->
            <div class="section">
                <h2>‚≠ê Top Recommendations</h2>
                
                <!-- ChronoQA -->
                <div class="dataset-card">
                    <h4>1. ChronoQA (2025) - PRIMARY RECOMMENDATION</h4>
                    <div>
                        <span class="badge recommended">Recommended</span>
                        <span class="badge temporal">Temporal</span>
                        <span class="badge">RAG-Specific</span>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="number">~300K</div>
                            <div class="label">News Articles</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">5,176</div>
                            <div class="label">QA Pairs</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">24 hours</div>
                            <div class="label">Processing Time</div>
                        </div>
                    </div>
                    
                    <h5>Why Choose ChronoQA:</h5>
                    <ul>
                        <li><strong>Perfect corpus size:</strong> Manageable 300K documents (processable in 24h with STIndex)</li>
                        <li><strong>Rich temporal data:</strong> Dense with dates, durations, and temporal relations</li>
                        <li><strong>RAG-native design:</strong> Explicitly built for retrieval-augmented systems</li>
                        <li><strong>News domain:</strong> Real-world, naturally unstructured text</li>
                        <li><strong>Diverse temporal types:</strong> Absolute, relative, aggregate, and implicit time references</li>
                    </ul>
                    
                    <h5>Data Structure:</h5>
                    <div class="code-block">
{
  <span class="key">"question"</span>: <span class="string">"Which event occurred earlier: COTODAMA speaker release or iPhone 6 discontinuation?"</span>,
  <span class="key">"question_date"</span>: <span class="string">"2024-10-30"</span>,
  <span class="key">"answer"</span>: <span class="string">"iPhone 6 discontinuation"</span>,
  <span class="key">"temporal_expression_type"</span>: <span class="string">"explicit"</span>,
  <span class="key">"temporal_scope"</span>: <span class="string">"long-term"</span>,
  <span class="key">"context"</span>: [
    {
      <span class="key">"article_id"</span>: <span class="string">"news_20160915_001"</span>,
      <span class="key">"title"</span>: <span class="string">"Apple discontinues iPhone 6"</span>,
      <span class="key">"content"</span>: <span class="string">"On September 15, 2016, Apple announced..."</span>,
      <span class="key">"publish_date"</span>: <span class="string">"2016-09-15"</span>
    }
  ]
}
                    </div>
                    
                    <h5>Temporal Question Types:</h5>
                    <ul>
                        <li><strong>Absolute:</strong> "On October 13, 2020, which team won the NBA Finals?"</li>
                        <li><strong>Relative:</strong> "At the beginning of this year, how many hours per week did LeEco implement?"</li>
                        <li><strong>Aggregate:</strong> "Which took effect earlier: China's housing loan policy or new securities regulations?"</li>
                        <li><strong>Implicit:</strong> "In July of last year, which Chinese player reached Wimbledon final?"</li>
                    </ul>
                    
                    <a href="https://github.com/czy1999/ChronoQA" class="link-button">View ChronoQA GitHub ‚Üí</a>
                </div>

                <!-- HotpotQA Union Method -->
                <div class="dataset-card">
                    <h4>2. HotpotQA with Union Method - MULTI-HOP REASONING</h4>
                    <div>
                        <span class="badge recommended">Recommended</span>
                        <span class="badge multihop">Multi-hop</span>
                        <span class="badge">Full Pipeline</span>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="number">~250K</div>
                            <div class="label">Unique Documents</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">113K</div>
                            <div class="label">Questions</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">2-4 hops</div>
                            <div class="label">Reasoning Depth</div>
                        </div>
                    </div>
                    
                    <h5>Why Choose HotpotQA (Union Method):</h5>
                    <ul>
                        <li><strong>Manageable corpus:</strong> Union of top-100 candidates = ~250K docs (not 6M Wikipedia)</li>
                        <li><strong>Famous benchmark:</strong> Well-established, respected in academic community</li>
                        <li><strong>Multi-hop by design:</strong> Questions require reasoning across multiple documents</li>
                        <li><strong>Bridge entities:</strong> Perfect for testing STIndex's entity extraction</li>
                        <li><strong>Supporting facts:</strong> Includes ground-truth reasoning paths</li>
                    </ul>
                    
                    <h5>Data Structure:</h5>
                    <div class="code-block">
{
  <span class="key">"_id"</span>: <span class="string">"5a8b57f25542995d1e6f1371"</span>,
  <span class="key">"question"</span>: <span class="string">"Which magazine was started first Arthur's Magazine or First for Women?"</span>,
  <span class="key">"answer"</span>: <span class="string">"Arthur's Magazine"</span>,
  <span class="key">"type"</span>: <span class="string">"comparison"</span>,  <span class="comment">// or "bridge"</span>
  <span class="key">"level"</span>: <span class="string">"medium"</span>,      <span class="comment">// easy, medium, hard</span>
  <span class="key">"context"</span>: {
    <span class="key">"title"</span>: [<span class="string">"Arthur's Magazine"</span>, <span class="string">"First for Women"</span>],
    <span class="key">"sentences"</span>: [
      [<span class="string">"Arthur's Magazine was an American literary periodical..."</span>, 
       <span class="string">"It was founded in 1844..."</span>],
      [<span class="string">"First for Women is a woman's magazine..."</span>,
       <span class="string">"It was started in 1989..."</span>]
    ]
  },
  <span class="key">"supporting_facts"</span>: {
    <span class="key">"title"</span>: [<span class="string">"Arthur's Magazine"</span>, <span class="string">"First for Women"</span>],
    <span class="key">"sent_id"</span>: [<span class="number">1</span>, <span class="number">1</span>]  <span class="comment">// Which sentences support the answer</span>
  }
}
                    </div>
                    
                    <h5>Question Types:</h5>
                    <ul>
                        <li><strong>Bridge:</strong> "X was started by the founder of Y. When was Y founded?" (entity bridging)</li>
                        <li><strong>Comparison:</strong> "Which happened first, X or Y?" (temporal/spatial comparison)</li>
                    </ul>
                    
                    <div class="highlight-box">
                        <strong>Union Method Strategy:</strong> Instead of indexing 6M Wikipedia articles, you only index the union of unique documents from the top-100 retrieval results across all questions (~250K docs). This is academically accepted and used in papers like RankRAG (NeurIPS 2024).
                    </div>
                    
                    <a href="https://hotpotqa.github.io/" class="link-button">View HotpotQA ‚Üí</a>
                </div>

                <!-- MuSiQue -->
                <div class="dataset-card">
                    <h4>3. MuSiQue - COMPLEX MULTI-HOP</h4>
                    <div>
                        <span class="badge multihop">Multi-hop</span>
                        <span class="badge">2-4 Hops</span>
                        <span class="badge">Connected Reasoning</span>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="number">~200K</div>
                            <div class="label">Documents (Union)</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">25K</div>
                            <div class="label">Questions</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">2-4</div>
                            <div class="label">Reasoning Hops</div>
                        </div>
                    </div>
                    
                    <h5>Why Choose MuSiQue:</h5>
                    <ul>
                        <li><strong>Harder than HotpotQA:</strong> Explicitly designed to prevent shortcuts</li>
                        <li><strong>Connected reasoning:</strong> Must use answer from hop 1 to answer hop 2</li>
                        <li><strong>Composable questions:</strong> Built by composing single-hop questions</li>
                        <li><strong>Includes unanswerable:</strong> Tests if model can detect insufficient context</li>
                        <li><strong>Graph structure:</strong> 6 different reasoning graph shapes (2-4 hops)</li>
                    </ul>
                    
                    <h5>Data Structure:</h5>
                    <div class="code-block">
{
  <span class="key">"id"</span>: <span class="string">"2hop__131818_77100"</span>,
  <span class="key">"question"</span>: <span class="string">"What is the capital of the country where the performer of 'Believe' was born?"</span>,
  <span class="key">"question_decomposition"</span>: [
    {
      <span class="key">"id"</span>: <span class="string">"131818"</span>,
      <span class="key">"question"</span>: <span class="string">"Who is the performer of Believe?"</span>,
      <span class="key">"answer"</span>: <span class="string">"Cher"</span>,
      <span class="key">"paragraph_support_idx"</span>: <span class="number">0</span>
    },
    {
      <span class="key">"id"</span>: <span class="string">"77100"</span>,
      <span class="key">"question"</span>: <span class="string">"What is the capital of the country Cher was born in?"</span>,
      <span class="key">"answer"</span>: <span class="string">"Washington, D.C."</span>,
      <span class="key">"paragraph_support_idx"</span>: <span class="number">1</span>
    }
  ],
  <span class="key">"answer"</span>: <span class="string">"Washington, D.C."</span>,
  <span class="key">"answerable"</span>: <span class="number">true</span>,
  <span class="key">"paragraphs"</span>: [
    {
      <span class="key">"idx"</span>: <span class="number">0</span>,
      <span class="key">"title"</span>: <span class="string">"Believe (Cher song)"</span>,
      <span class="key">"paragraph_text"</span>: <span class="string">"Believe is a song by American singer Cher..."</span>,
      <span class="key">"is_supporting"</span>: <span class="number">true</span>
    },
    {
      <span class="key">"idx"</span>: <span class="number">1</span>,
      <span class="key">"title"</span>: <span class="string">"Cher"</span>,
      <span class="key">"paragraph_text"</span>: <span class="string">"Cher was born in California, United States..."</span>,
      <span class="key">"is_supporting"</span>: <span class="number">true</span>
    }
  ]
}
                    </div>
                    
                    <h5>Reasoning Graph Shapes:</h5>
                    <ul>
                        <li><strong>2-hop chain:</strong> Q1 ‚Üí Q2</li>
                        <li><strong>3-hop chain:</strong> Q1 ‚Üí Q2 ‚Üí Q3</li>
                        <li><strong>4-hop chain:</strong> Q1 ‚Üí Q2 ‚Üí Q3 ‚Üí Q4</li>
                        <li><strong>Converging:</strong> Q1 ‚Üí Q3 ‚Üê Q2</li>
                        <li><strong>Diverging:</strong> Q1 ‚Üê Q2 ‚Üí Q3</li>
                        <li><strong>Complex:</strong> Various mixed patterns</li>
                    </ul>
                    
                    <a href="https://github.com/StonyBrookNLP/musique" class="link-button">View MuSiQue GitHub ‚Üí</a>
                </div>

                <!-- TimeQA -->
                <div class="dataset-card">
                    <h4>4. TimeQA - TEMPORAL REASONING</h4>
                    <div>
                        <span class="badge temporal">Temporal</span>
                        <span class="badge">Wikipedia</span>
                        <span class="badge">Easy & Hard Modes</span>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="number">Variable</div>
                            <div class="label">Corpus (Wiki subset)</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">~20K</div>
                            <div class="label">Questions</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">2</div>
                            <div class="label">Difficulty Levels</div>
                        </div>
                    </div>
                    
                    <h5>Why Choose TimeQA:</h5>
                    <ul>
                        <li><strong>Time-sensitive facts:</strong> Answers change based on temporal scope</li>
                        <li><strong>Two difficulty levels:</strong> Easy (direct match) and Hard (temporal reasoning)</li>
                        <li><strong>Wikipedia-based:</strong> High-quality, factual content</li>
                        <li><strong>Temporal scope testing:</strong> Tests understanding of "in 2010" vs "in 2020"</li>
                        <li><strong>Mining from Wikidata:</strong> Time-evolving facts with ground truth</li>
                    </ul>
                    
                    <h5>Data Structure:</h5>
                    <div class="code-block">
{
  <span class="key">"question"</span>: <span class="string">"Who was the CEO of Twitter from May 2013 to 2020?"</span>,
  <span class="key">"answer"</span>: <span class="string">"Dick Costolo"</span>,
  <span class="key">"difficulty"</span>: <span class="string">"hard"</span>,  <span class="comment">// "easy" or "hard"</span>
  <span class="key">"temporal_type"</span>: <span class="string">"scope"</span>,  <span class="comment">// scope, order, counterfactual</span>
  <span class="key">"context"</span>: [
    {
      <span class="key">"title"</span>: <span class="string">"Twitter"</span>,
      <span class="key">"sentences"</span>: [
        <span class="string">"In October 2010, Evan Williams was CEO..."</span>,
        <span class="string">"Dick Costolo became CEO in October 2010..."</span>,
        <span class="string">"Jack Dorsey became CEO in July 2015..."</span>,
        <span class="string">"Parag Agrawal was named CEO in November 2021..."</span>
      ]
    }
  ],
  <span class="key">"supporting_facts"</span>: [
    {<span class="key">"title"</span>: <span class="string">"Twitter"</span>, <span class="key">"sent_id"</span>: <span class="number">1</span>}
  ]
}
                    </div>
                    
                    <h5>Temporal Reasoning Types:</h5>
                    <ul>
                        <li><strong>Easy Mode:</strong> Time expression directly matches in context ("in 2015" ‚Üí finds "in 2015")</li>
                        <li><strong>Hard Mode:</strong> Requires temporal inference ("before 2010" needs reasoning)</li>
                        <li><strong>Scope Factor:</strong> Understanding time ranges ("from X to Y")</li>
                        <li><strong>Order Factor:</strong> Chronological sequence of events</li>
                        <li><strong>Counterfactual:</strong> "If X happened in 2010 instead of 2015, then..."</li>
                    </ul>
                    
                    <a href="https://github.com/wenhuchen/Time-Sensitive-QA" class="link-button">View TimeQA GitHub ‚Üí</a>
                </div>

                <!-- FinQA -->
                <div class="dataset-card">
                    <h4>5. FinQA - FINANCIAL TEMPORAL REASONING</h4>
                    <div>
                        <span class="badge temporal">Temporal</span>
                        <span class="badge">Financial Domain</span>
                        <span class="badge">Numerical Reasoning</span>
                        <span class="badge">Expert-Annotated</span>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="number">~2.8K</div>
                            <div class="label">Financial Reports</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">8,281</div>
                            <div class="label">QA Pairs</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">1-4 steps</div>
                            <div class="label">Reasoning Depth</div>
                        </div>
                    </div>
                    
                    <h5>Why Choose FinQA:</h5>
                    <ul>
                        <li><strong>Perfect corpus size:</strong> Only ~2.8K documents - extremely manageable!</li>
                        <li><strong>Rich temporal data:</strong> Heavy focus on years, quarters, fiscal periods (2019-2021, Q1-Q4)</li>
                        <li><strong>Expert quality:</strong> Annotated by 11 finance professionals, not crowdworkers</li>
                        <li><strong>Numerical + temporal reasoning:</strong> "What was revenue growth from 2019 to 2021?"</li>
                        <li><strong>Hybrid data:</strong> Combines structured tables and unstructured text in same document</li>
                        <li><strong>Real-world domain:</strong> S&P 500 earnings reports - production use cases</li>
                        <li><strong>Full explainability:</strong> Includes reasoning programs showing step-by-step calculations</li>
                    </ul>
                    
                    <h5>Data Structure:</h5>
                    <div class="code-block">
{
  <span class="key">"id"</span>: <span class="string">"AAPL-2019-page42-001"</span>,
  <span class="key">"pre_text"</span>: [
    <span class="string">"The following table presents our revenue by operating segment..."</span>,
    <span class="string">"We saw significant growth in our Services segment during fiscal 2019..."</span>
  ],
  <span class="key">"post_text"</span>: [
    <span class="string">"Total revenue increased by 14% year-over-year..."</span>,
    <span class="string">"The iPhone segment declined due to market saturation..."</span>
  ],
  <span class="key">"table"</span>: [
    [<span class="string">""</span>, <span class="string">"2019"</span>, <span class="string">"2018"</span>, <span class="string">"2017"</span>],
    [<span class="string">"iPhone revenue"</span>, <span class="string">"$142,381"</span>, <span class="string">"$164,888"</span>, <span class="string">"$141,319"</span>],
    [<span class="string">"Services revenue"</span>, <span class="string">"$46,291"</span>, <span class="string">"$37,190"</span>, <span class="string">"$29,980"</span>],
    [<span class="string">"Total revenue"</span>, <span class="string">"$260,174"</span>, <span class="string">"$265,595"</span>, <span class="string">"$229,234"</span>]
  ],
  <span class="key">"qa"</span>: {
    <span class="key">"question"</span>: <span class="string">"What is the percentage change in Services revenue from 2017 to 2019?"</span>,
    <span class="key">"answer"</span>: <span class="string">"54.42"</span>,
    <span class="key">"gold_inds"</span>: [
      {<span class="key">"table"</span>: <span class="string">"1-2"</span>},  <span class="comment">// Table row 1 (Services), columns 2019 & 2017</span>
      {<span class="key">"text"</span>: <span class="number">0</span>}     <span class="comment">// pre_text sentence 0</span>
    ],
    <span class="key">"program"</span>: [
      <span class="string">"divide(46291, 29980)"</span>,
      <span class="string">"subtract(#0, 1)"</span>,
      <span class="string">"multiply(#1, 100)"</span>
    ],
    <span class="key">"exe_ans"</span>: <span class="number">54.42</span>,  <span class="comment">// Execution result</span>
    <span class="key">"program_re"</span>: <span class="string">"multiply(subtract(divide(46291, 29980), 1), 100)"</span>
  }
}
                    </div>
                    
                    <h5>Temporal & Numerical Reasoning Types:</h5>
                    <ul>
                        <li><strong>Year-over-Year Growth:</strong> "What was the revenue increase from 2018 to 2020?"</li>
                        <li><strong>Compound Annual Growth Rate (CAGR):</strong> "Calculate CAGR from 2017 to 2020"</li>
                        <li><strong>Quarter Comparisons:</strong> "Compare Q3 2019 vs Q3 2020 performance"</li>
                        <li><strong>Multi-period Aggregation:</strong> "What's the total revenue for 2018-2020?"</li>
                        <li><strong>Percentage Changes:</strong> "What percent did operating margin improve from 2019 to 2020?"</li>
                        <li><strong>Ratio Calculations:</strong> "What was the debt-to-equity ratio in 2019?"</li>
                    </ul>
                    
                    <h5>Key Features for STIndex:</h5>
                    <ul>
                        <li><strong>Explicit temporal markers:</strong> Every document has fiscal years (2017, 2018, 2019, 2020...)</li>
                        <li><strong>Temporal ranges:</strong> Questions often span multiple years ("from 2018 to 2020")</li>
                        <li><strong>Comparative temporal reasoning:</strong> Requires understanding time order and change over time</li>
                        <li><strong>Structured + unstructured:</strong> Tests extraction from both table cells and paragraph text</li>
                        <li><strong>Multi-step reasoning:</strong> 1-4 calculation steps, with intermediate results</li>
                    </ul>
                    
                    <div class="highlight-box">
                        <strong>Perfect for STIndex Testing:</strong> FinQA's small corpus (2.8K docs) makes it ideal for rapid prototyping and testing your temporal extraction. The heavy focus on years and fiscal periods is perfect for testing STIndex's temporal dimension. Every question requires precise temporal filtering ("in 2019" vs "in 2020" = different answers).
                    </div>
                    
                    <h5>Example STIndex Use Case:</h5>
                    <div class="code-block">
<span class="comment"># Question: "What was the revenue growth from 2018 to 2020?"</span>

<span class="comment"># Step 1: STIndex extracts temporal constraints</span>
temporal_filter = {
    <span class="string">"start_year"</span>: <span class="number">2018</span>,
    <span class="string">"end_year"</span>: <span class="number">2020</span>
}

<span class="comment"># Step 2: Vector DB retrieves with temporal filter</span>
results = vector_db.search(
    query=<span class="string">"revenue"</span>,
    filters={
        <span class="string">"fiscal_year"</span>: {<span class="string">"$in"</span>: [<span class="number">2018</span>, <span class="number">2019</span>, <span class="number">2020</span>]},
        <span class="string">"company"</span>: <span class="string">"AAPL"</span>,
        <span class="string">"metric_type"</span>: <span class="string">"revenue"</span>
    }
)

<span class="comment"># Step 3: STIndex ensures exact year matches</span>
<span class="comment"># Only retrieves tables/text with 2018 AND 2020 data</span>
<span class="comment"># Prevents hallucination of wrong years</span>
                    </div>
                    
                    <h5>Comparison with Other Financial QA Datasets:</h5>
                    <ul>
                        <li><strong>FinQA vs TaTQA:</strong> FinQA has more explicit reasoning programs</li>
                        <li><strong>FinQA vs ConvFinQA:</strong> FinQA focuses on single-question reasoning (simpler for initial testing)</li>
                        <li><strong>FinQA vs DocFinQA:</strong> DocFinQA extends FinQA to full 100K+ token documents (use FinQA first)</li>
                    </ul>
                    
                    <a href="https://github.com/czyssrs/FinQA" class="link-button">View FinQA GitHub ‚Üí</a>
                </div>

                <!-- SpaRTQA -->
                <div class="dataset-card">
                    <h4>6. SpaRTQA - SPATIAL REASONING</h4>
                    <div>
                        <span class="badge spatial">Spatial</span>
                        <span class="badge">Text-Only</span>
                        <span class="badge">Auto + Human</span>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-box">
                            <div class="number">~24K</div>
                            <div class="label">Stories (Auto)</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">1.1K</div>
                            <div class="label">QA Pairs (Human)</div>
                        </div>
                        <div class="stat-box">
                            <div class="number">4</div>
                            <div class="label">Question Types</div>
                        </div>
                    </div>
                    
                    <h5>Why Choose SpaRTQA:</h5>
                    <ul>
                        <li><strong>Pure text spatial reasoning:</strong> No images needed</li>
                        <li><strong>Spatial relations:</strong> above, below, left, right, near, far, inside, etc.</li>
                        <li><strong>Two versions:</strong> SpaRTQA-Auto (24K, synthetic) and SpaRTQA-Human (1.1K, curated)</li>
                        <li><strong>Small corpus:</strong> Perfect for testing spatial metadata extraction</li>
                        <li><strong>Natural language:</strong> Spatial descriptions in story format</li>
                    </ul>
                    
                    <h5>Data Structure:</h5>
                    <div class="code-block">
{
  <span class="key">"story_id"</span>: <span class="string">"spartqa_12345"</span>,
  <span class="key">"story"</span>: [
    <span class="string">"There is a big yellow circle."</span>,
    <span class="string">"A small blue square is to the left of the circle."</span>,
    <span class="string">"A red triangle is above the square."</span>,
    <span class="string">"The triangle is near a black circle."</span>
  ],
  <span class="key">"questions"</span>: [
    {
      <span class="key">"qid"</span>: <span class="string">"q1"</span>,
      <span class="key">"question"</span>: <span class="string">"What is to the left of the yellow circle?"</span>,
      <span class="key">"answer"</span>: <span class="string">"blue square"</span>,
      <span class="key">"type"</span>: <span class="string">"FR"</span>,  <span class="comment">// Find Relation</span>
      <span class="key">"candidates"</span>: [<span class="string">"blue square"</span>, <span class="string">"red triangle"</span>, <span class="string">"black circle"</span>]
    },
    {
      <span class="key">"qid"</span>: <span class="string">"q2"</span>,
      <span class="key">"question"</span>: <span class="string">"Is the triangle above the square?"</span>,
      <span class="key">"answer"</span>: <span class="string">"Yes"</span>,
      <span class="key">"type"</span>: <span class="string">"YN"</span>  <span class="comment">// Yes/No</span>
    }
  ],
  <span class="key">"scene_graph"</span>: {
    <span class="key">"objects"</span>: [
      {<span class="key">"id"</span>: <span class="string">"obj1"</span>, <span class="key">"type"</span>: <span class="string">"circle"</span>, <span class="key">"color"</span>: <span class="string">"yellow"</span>, <span class="key">"size"</span>: <span class="string">"big"</span>},
      {<span class="key">"id"</span>: <span class="string">"obj2"</span>, <span class="key">"type"</span>: <span class="string">"square"</span>, <span class="key">"color"</span>: <span class="string">"blue"</span>, <span class="key">"size"</span>: <span class="string">"small"</span>}
    ],
    <span class="key">"relations"</span>: [
      {<span class="key">"subject"</span>: <span class="string">"obj2"</span>, <span class="key">"relation"</span>: <span class="string">"left_of"</span>, <span class="key">"object"</span>: <span class="string">"obj1"</span>}
    ]
  }
}
                    </div>
                    
                    <h5>Question Types:</h5>
                    <ul>
                        <li><strong>FR (Find Relation):</strong> "What is above the square?"</li>
                        <li><strong>FB (Find Block):</strong> "Which object is blue?"</li>
                        <li><strong>CO (Choose Object):</strong> "Is the circle or square bigger?"</li>
                        <li><strong>YN (Yes/No):</strong> "Is the triangle near the circle?"</li>
                    </ul>
                    
                    <a href="https://github.com/HLR/SpartQA_generation" class="link-button">View SpaRTQA GitHub ‚Üí</a>
                </div>
            </div>

            <!-- Implementation Strategy -->
            <div class="section">
                <h2>üîß Implementation Strategy</h2>
                
                <h3>Recommended Approach: Start with ChronoQA or HotpotQA Union Method</h3>
                
                <div class="highlight-box">
                    <strong>üí° Quick Start Recommendation:</strong> Begin with FinQA (2.8K docs) for rapid prototyping and testing your STIndex pipeline. Once validated, scale to ChronoQA (300K docs) or HotpotQA Union (250K docs) for comprehensive evaluation.
                </div>
                
                <div class="workflow">
                    <div class="workflow-step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h5>Dataset Selection & Download</h5>
                            <p><strong>For ChronoQA:</strong></p>
                            <ul>
                                <li>Download the ~300K news article corpus</li>
                                <li>Download the 5,176 QA pairs with temporal annotations</li>
                            </ul>
                            <p><strong>For HotpotQA (Union Method):</strong></p>
                            <ul>
                                <li>Download the distractor dev set</li>
                                <li>Extract unique document titles from all top-100 retrieval results</li>
                                <li>Build mini-corpus of ~250K unique Wikipedia paragraphs</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h5>STIndex Metadata Extraction</h5>
                            <p>Process each document through STIndex to extract:</p>
                            <ul>
                                <li><strong>Temporal Metadata:</strong> Dates, durations, time ranges (start_date, end_date)</li>
                                <li><strong>Spatial Metadata:</strong> Locations, geographic entities, spatial relations</li>
                                <li><strong>Custom Dimensions:</strong> Entities, roles, events (critical for multi-hop bridging)</li>
                            </ul>
                            <div class="code-block">
<span class="comment"># Example STIndex configuration (YAML)</span>
dimensions:
  temporal:
    - start_date
    - end_date
    - duration
  spatial:
    - location
    - region
    - coordinates
  custom:
    - entities      <span class="comment"># People, organizations</span>
    - events        <span class="comment"># Key happenings</span>
    - roles         <span class="comment"># CEO, President, etc.</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h5>Vector Database Construction</h5>
                            <p>Build your corpus database with enriched metadata:</p>
                            <ul>
                                <li>Choose a vector DB that supports metadata filtering (Weaviate, Qdrant, Milvus)</li>
                                <li>Index each document chunk with both embeddings and STIndex metadata</li>
                                <li>Store metadata in structured format for efficient filtering</li>
                            </ul>
                            <div class="code-block">
<span class="comment"># Example document structure in vector DB</span>
{
  <span class="key">"vector"</span>: [<span class="number">0.1, 0.2, ..., 0.768</span>],  <span class="comment">// Embedding</span>
  <span class="key">"text"</span>: <span class="string">"The protests in Paris lasted from May to July 2020..."</span>,
  <span class="key">"metadata"</span>: {
    <span class="key">"date_start"</span>: <span class="string">"2020-05-01"</span>,
    <span class="key">"date_end"</span>: <span class="string">"2020-07-31"</span>,
    <span class="key">"location"</span>: <span class="string">"Paris"</span>,
    <span class="key">"country"</span>: <span class="string">"France"</span>,
    <span class="key">"entities"</span>: [<span class="string">"French Government"</span>, <span class="string">"Protesters"</span>],
    <span class="key">"event_type"</span>: <span class="string">"protest"</span>
  }
}
                            </div>
                        </div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h5>Multi-Hop RAG Pipeline</h5>
                            <p>Implement structured-filter multi-hop retrieval:</p>
                            <div class="code-block">
<span class="comment"># Pseudocode for multi-hop retrieval</span>

<span class="key">def</span> multi_hop_rag(question):
    <span class="comment"># Step 1: Decompose question</span>
    sub_questions = llm.decompose(question)
    
    <span class="comment"># Step 2: First hop</span>
    query1 = sub_questions[<span class="number">0</span>]
    results1 = vector_db.search(
        query=query1,
        filters={
            <span class="string">"date"</span>: extract_temporal_constraint(query1),
            <span class="string">"location"</span>: extract_spatial_constraint(query1)
        }
    )
    
    <span class="comment"># Step 3: Extract bridge entity from first result</span>
    bridge_entity = stindex.extract_entity(results1[<span class="number">0</span>])
    
    <span class="comment"># Step 4: Second hop using bridge entity</span>
    query2 = sub_questions[<span class="number">1</span>].replace(<span class="string">"X"</span>, bridge_entity)
    results2 = vector_db.search(
        query=query2,
        filters={
            <span class="string">"entities"</span>: [bridge_entity],
            <span class="string">"date"</span>: extract_temporal_constraint(query2)
        }
    )
    
    <span class="comment"># Step 5: Synthesize answer</span>
    <span class="key">return</span> llm.synthesize(results1 + results2)
                            </div>
                        </div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-number">5</div>
                        <div class="step-content">
                            <h5>Evaluation & Iteration</h5>
                            <p>Measure performance and iterate:</p>
                            <ul>
                                <li><strong>Metrics:</strong> Exact Match (EM), F1 Score, Recall@K</li>
                                <li><strong>Baselines:</strong> Compare against pure vector search and BM25</li>
                                <li><strong>Ablation:</strong> Test with/without temporal filters, with/without spatial filters</li>
                                <li><strong>Error Analysis:</strong> Identify which hop fails (retrieval vs reasoning)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Technical Comparison -->
            <div class="section">
                <h2>üìä Technical Comparison</h2>
                
                <h3>Corpus Size vs Complexity Trade-off</h3>
                <div class="dataset-card">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Dataset</th>
                                <th>Temporal Data</th>
                                <th>Spatial Data</th>
                                <th>Multi-Hop</th>
                                <th>Processing Time</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ChronoQA</strong></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê‚≠ê</td>
                                <td>24 hours</td>
                            </tr>
                            <tr>
                                <td><strong>HotpotQA (Union)</strong></td>
                                <td>‚≠ê‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>18 hours</td>
                            </tr>
                            <tr>
                                <td><strong>MuSiQue (Union)</strong></td>
                                <td>‚≠ê‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>15 hours</td>
                            </tr>
                            <tr>
                                <td><strong>TimeQA</strong></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>‚≠ê</td>
                                <td>‚≠ê‚≠ê</td>
                                <td>Variable</td>
                            </tr>
                            <tr>
                                <td><strong>FinQA</strong></td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê‚≠ê</td>
                                <td>3 hours</td>
                            </tr>
                            <tr>
                                <td><strong>SpaRTQA</strong></td>
                                <td>‚≠ê</td>
                                <td>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</td>
                                <td>‚≠ê‚≠ê</td>
                                <td>2 hours</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Academic Justification -->
            <div class="section">
                <h2>üìö Academic Justification</h2>
                
                <div class="highlight-box">
                    <strong>How to justify NOT processing 6M Wikipedia articles:</strong>
                </div>
                
                <h3>The "Union Method" (Academically Accepted)</h3>
                <p>Top-tier conferences (NeurIPS, ICLR, ACL) accept this methodology for evaluating reasoning engines:</p>
                
                <ol>
                    <li><strong>Assumption:</strong> Retrieval is "solved" by existing models (BM25, DPR, Contriever)</li>
                    <li><strong>Your Focus:</strong> Reasoning and reranking on the retrieved candidates</li>
                    <li><strong>Corpus Construction:</strong> Union of top-K documents across all questions</li>
                    <li><strong>Claim:</strong> "We evaluate STIndex in a Closed-Book Setting using the union of top-100 retrieval candidates as the search corpus (N=250K)"</li>
                </ol>
                
                <h3>Supporting Papers to Cite:</h3>
                <ul>
                    <li><strong>RankRAG (NeurIPS 2024):</strong> Uses top-K reranking methodology</li>
                    <li><strong>MTEB Reranking Leaderboard:</strong> Standard benchmark for reranking tasks</li>
                    <li><strong>Few-shot Reranking for Multi-hop QA (ACL 2023):</strong> Specifically uses HotpotQA in reranking setting</li>
                    <li><strong>FinQA (EMNLP 2021):</strong> Shows domain-specific datasets with manageable corpus sizes</li>
                </ul>
                
                <div class="highlight-box">
                    <strong>Note on FinQA:</strong> FinQA doesn't require the "Union Method" at all - its corpus is naturally small (2.8K documents). This makes it perfect for initial testing and proving your STIndex concept before scaling to larger datasets. You can cite FinQA as precedent for using domain-specific corpora rather than full Wikipedia.
                </div>
                
                <div class="highlight-box">
                    <strong>Framing in your paper:</strong> "While standard vector retrieval handles initial recall, it fails at precision in complex spatio-temporal queries. We adopt a Two-Stage Retrieve-and-Reason setting where Stage 1 (baseline retriever) fetches Top-50 candidates, and Stage 2 (STIndex) builds a temporary micro-knowledge graph to execute multi-hop spatial-temporal logic."
                </div>
            </div>

            <!-- Practical Tips -->
            <div class="section">
                <h2>üí° Practical Implementation Tips</h2>
                
                <div class="workflow">
                    <div class="workflow-step">
                        <div class="step-number">üíæ</div>
                        <div class="step-content">
                            <h5>Storage Requirements</h5>
                            <ul>
                                <li>ChronoQA: ~500MB - 1GB (300K articles)</li>
                                <li>HotpotQA Union: ~400MB - 800MB (250K paragraphs)</li>
                                <li>Vector embeddings: ~3-5GB (depending on model)</li>
                                <li>Metadata index: ~200-500MB</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-number">‚ö°</div>
                        <div class="step-content">
                            <h5>Processing Optimization</h5>
                            <ul>
                                <li>Batch process documents in chunks of 1000</li>
                                <li>Cache STIndex extraction results</li>
                                <li>Use async processing for parallel extraction</li>
                                <li>Pre-compute embeddings offline</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-number">üîç</div>
                        <div class="step-content">
                            <h5>Query Optimization</h5>
                            <ul>
                                <li>Use temporal filters early (date ranges reduce search space by 90%+)</li>
                                <li>Combine filters with vector similarity for precision</li>
                                <li>Cache common entity extractions</li>
                                <li>Implement smart fallback (relax filters if no results)</li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="workflow-step">
                        <div class="step-number">üìà</div>
                        <div class="step-content">
                            <h5>Evaluation Strategy</h5>
                            <ul>
                                <li>Start with distractor setting (10 docs per question) for rapid prototyping</li>
                                <li>Move to union method (250K corpus) for full evaluation</li>
                                <li>Compare against baselines: BM25, Dense Retrieval, Reranker</li>
                                <li>Report both retrieval metrics (Recall@K) and end-to-end QA metrics (EM, F1)</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Getting Started Script -->
            <div class="section">
                <h2>üöÄ Quick Start Script</h2>
                
                <p>Here's a Python script to get you started with HotpotQA Union Method:</p>
                
                <div class="code-block">
<span class="comment"># quick_start.py - Build HotpotQA Union Corpus for STIndex</span>

<span class="key">import</span> json
<span class="key">from</span> collections <span class="key">import</span> defaultdict
<span class="key">from</span> typing <span class="key">import</span> List, Set

<span class="key">def</span> build_union_corpus(hotpot_json_path: str) -> List[dict]:
    <span class="string">"""
    Build mini-corpus from HotpotQA by taking union of all documents.
    This creates ~250K document corpus instead of 6M Wikipedia.
    """</span>
    
    <span class="comment"># Load HotpotQA data</span>
    <span class="key">with</span> open(hotpot_json_path, <span class="string">'r'</span>) <span class="key">as</span> f:
        data = json.load(f)
    
    <span class="comment"># Extract all unique documents</span>
    unique_docs = {}
    
    <span class="key">for</span> item <span class="key">in</span> data:
        contexts = item[<span class="string">'context'</span>]
        <span class="key">for</span> title, sentences <span class="key">in</span> contexts:
            <span class="key">if</span> title <span class="key">not in</span> unique_docs:
                unique_docs[title] = {
                    <span class="string">'title'</span>: title,
                    <span class="string">'text'</span>: <span class="string">' '</span>.join(sentences),
                    <span class="string">'sentences'</span>: sentences
                }
    
    print(f<span class="string">"Extracted {len(unique_docs)} unique documents"</span>)
    <span class="key">return</span> list(unique_docs.values())

<span class="key">def</span> process_with_stindex(documents: List[dict], stindex_config: dict):
    <span class="string">"""
    Process documents through STIndex to extract metadata.
    Replace this with your actual STIndex integration.
    """</span>
    <span class="key">from</span> stindex <span class="key">import</span> STIndexExtractor  <span class="comment"># Your import here</span>
    
    extractor = STIndexExtractor(config=stindex_config)
    enriched_docs = []
    
    <span class="key">for</span> i, doc <span class="key">in</span> enumerate(documents):
        <span class="comment"># Extract temporal and spatial metadata</span>
        metadata = extractor.extract(doc[<span class="string">'text'</span>])
        
        enriched_docs.append({
            <span class="string">'doc_id'</span>: doc[<span class="string">'title'</span>],
            <span class="string">'text'</span>: doc[<span class="string">'text'</span>],
            <span class="string">'metadata'</span>: metadata
        })
        
        <span class="key">if</span> (i + <span class="number">1</span>) % <span class="number">1000</span> == <span class="number">0</span>:
            print(f<span class="string">"Processed {i + 1}/{len(documents)} documents"</span>)
    
    <span class="key">return</span> enriched_docs

<span class="key">def</span> index_to_vector_db(enriched_docs: List[dict], db_config: dict):
    <span class="string">"""
    Index enriched documents to vector database.
    """</span>
    <span class="comment"># Your vector DB integration here (Weaviate, Qdrant, etc.)</span>
    <span class="key">pass</span>

<span class="comment"># Main execution</span>
<span class="key">if</span> __name__ == <span class="string">"__main__"</span>:
    <span class="comment"># Step 1: Build union corpus</span>
    corpus = build_union_corpus(<span class="string">"hotpot_dev_distractor_v1.json"</span>)
    
    <span class="comment"># Step 2: Process with STIndex</span>
    stindex_config = {
        <span class="string">'dimensions'</span>: {
            <span class="string">'temporal'</span>: [<span class="string">'start_date'</span>, <span class="string">'end_date'</span>],
            <span class="string">'spatial'</span>: [<span class="string">'location'</span>],
            <span class="string">'custom'</span>: [<span class="string">'entities'</span>]
        }
    }
    enriched_corpus = process_with_stindex(corpus, stindex_config)
    
    <span class="comment"># Step 3: Index to vector DB</span>
    index_to_vector_db(enriched_corpus, db_config={})
    
    print(<span class="string">"‚úÖ Corpus built and indexed successfully!"</span>)
                </div>
            </div>

            <!-- Final Recommendations -->
            <div class="section">
                <h2>üéØ Final Recommendations</h2>
                
                <div class="dataset-card">
                    <h4>For Temporal-Heavy Applications</h4>
                    <p><strong>Use: ChronoQA</strong></p>
                    <ul>
                        <li>Best temporal density in corpus</li>
                        <li>Real news articles (not synthetic)</li>
                        <li>Manageable 300K corpus</li>
                        <li>Designed specifically for RAG systems</li>
                    </ul>
                </div>
                
                <div class="dataset-card">
                    <h4>For Complex Multi-Hop Reasoning</h4>
                    <p><strong>Use: HotpotQA or MuSiQue with Union Method</strong></p>
                    <ul>
                        <li>Well-established benchmarks</li>
                        <li>Union method = manageable corpus (~250K)</li>
                        <li>Rich entity relationships for bridging</li>
                        <li>Academically respected approach</li>
                    </ul>
                </div>
                
                <div class="dataset-card">
                    <h4>For Financial/Domain-Specific Applications</h4>
                    <p><strong>Use: FinQA</strong></p>
                    <ul>
                        <li>Smallest corpus (2.8K docs) - fastest to prototype</li>
                        <li>Richest temporal density (every doc has multiple years)</li>
                        <li>Expert-quality annotations</li>
                        <li>Perfect for testing STIndex on professional documents</li>
                        <li>Real-world use case: financial analysis automation</li>
                    </ul>
                </div>
                
                <div class="dataset-card">
                    <h4>For Spatial-Heavy Applications</h4>
                    <p><strong>Use: SpaRTQA as supplementary</strong></p>
                    <ul>
                        <li>Pure spatial reasoning</li>
                        <li>Small corpus for rapid testing</li>
                        <li>Combine with ChronoQA or HotpotQA for full coverage</li>
                    </ul>
                </div>
            </div>

            <!-- Resources -->
            <div class="section">
                <h2>üìö Additional Resources</h2>
                
                <div class="stats">
                    <div class="stat-box">
                        <a href="https://github.com/czy1999/ChronoQA" class="link-button">ChronoQA GitHub</a>
                    </div>
                    <div class="stat-box">
                        <a href="https://hotpotqa.github.io/" class="link-button">HotpotQA Official</a>
                    </div>
                    <div class="stat-box">
                        <a href="https://github.com/StonyBrookNLP/musique" class="link-button">MuSiQue GitHub</a>
                    </div>
                    <div class="stat-box">
                        <a href="https://github.com/wenhuchen/Time-Sensitive-QA" class="link-button">TimeQA GitHub</a>
                    </div>
                    <div class="stat-box">
                        <a href="https://github.com/czyssrs/FinQA" class="link-button">FinQA GitHub</a>
                    </div>
                    <div class="stat-box">
                        <a href="https://github.com/HLR/SpartQA_generation" class="link-button">SpaRTQA GitHub</a>
                    </div>
                    <div class="stat-box">
                        <a href="https://stindex.ai4wa.com/" class="link-button">STIndex Tool</a>
                    </div>
                </div>
            </div>

        </div>
    </div>
</body>
</html>